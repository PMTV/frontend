<div class="row hidden-print">
    <debug-message>{{receipt | json}}</debug-message>
    <div class="col-sm-12">
        <portlet>
            <portlet-item title="Information">
                <div>
                    <div class="form-group pull-in clearfix">
                        <div class="col-sm-12" ng-class="{ 'has-error' : myForm.refNumber.$invalid && submitted }">
                            <label>Reference Number</label><br />
                            <input type="text" ng-required="true" name="refNumber" class="form-control input-sm" ng-model="receipt.referenceNo" placeholder="Reference Number">
                            <div class="error" ng-show="(myForm.refNumber.$dirty && myForm.refNumber.$invalid) || submitted">
                                <small class="error" ng-show="myForm.refNumber.$error.required">Required</small>
                            </div>
                        </div>
                    </div>
                    <div class="line line-dashed line-lg pull-in"></div>
                    <div class="form-group pull-in clearfix">
                        <div class="col-sm-6" >
                            <label>Customer</label><br />
                            <customers-dropdown ng-class="{ 'input-error-show' : myForm.customer.$invalid && submitted }" name="customer" ng-required="true" ng-model="receipt.customerId" ng-change="onChangedCustomer(receipt.customerId)" class="ui-select2"></customers-dropdown>

                            <div class="error" ng-show="(myForm.customer.$dirty && myForm.customer.$invalid) || submitted">
                                <small class="error" ng-show="myForm.customer.$error.required">Please select a Customer</small>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label>Receipt Date</label>
                            <input date-picker type="text" ng-model="receipt.receiptDate" class="form-control input-sm" placeholder="Receipt Date">
                        </div>
                    </div>
                    <div class="line line-dashed line-lg pull-in"></div>
                    <div class="form-group pull-in clearfix">
                        <!--<div class="col-sm-6" ng-class="{ 'has-error' : myForm.openCreditNote.$invalid && submitted }">
                                <label>Open Credit Note</label><br />
                                <open-credit-note-dropdown name="openCreditNote" ng-required="true" ng-model="receipt.openCreditNoteId" ng-change="onChangedOpenCreditNote(receipt.openCreditNoteId)" class="ui-select2"></open-credit-note-dropdown>

                                <div class="error" ng-show="(myForm.openCreditNote.$dirty && myForm.openCreditNote.$invalid) || submitted">
                                    <small class="error" ng-show="myForm.openCreditNote.$error.required">Please select an open credit note</small>
                                </div>
                            </div>-->
                        <div class="col-sm-6" >
                            <label>Open Credit Note</label><br />
                            <open-credit-note-by-customer-dropdown name="openCreditNote" customer="receipt.customerId" ng-model="receipt.openCreditNoteId" ng-change="onChangedOpenCreditNote(receipt.openCreditNoteId)" class="ui-select2"></open-credit-note-by-customer-dropdown>
                        </div>
                        <div class="col-sm-6">
                            <label>Currency</label><br />
                            <currencies-dropdown ng-class="{ 'input-error-show' : myForm.currencies.$invalid && submitted }" name="currencies" ng-required="true" ng-model="receipt.currencyId" ng-change="onChangedCurrencies(receipt.currencyId)" class="ui-select2"></currencies-dropdown>

                            <div class="error" ng-show="(myForm.currencies.$dirty && myForm.currencies.$invalid) || submitted">
                                <small class="error" ng-show="myForm.currencies.$error.required">Please select a Currency</small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group pull-in clearfix">
                        <div class="col-sm-12">
                            <label>Amount</label>
                            <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="text" class="form-control input-sm" only-number-float placeholder="Amount" ng-model="receipt.amount">
                            </div>
                        </div>
                    </div>
                    <div class="form-group pull-in clearfix">
                        <div class="col-sm-6">
                            <label>Cheque No.</label>
                           <!--  <div class="input-group">
                                <span class="input-group-addon">$</span> -->
                                <input type="text" class="form-control input-sm" data-type="text" placeholder="Cheque No." ng-model="receipt.chequeNo">
                            <!-- </div> -->
                        </div>
                        <div class="col-sm-6">
                            <label>tt No.</label>
                            <!-- <div class="input-group"> -->
<!--                                 <span class="input-group-addon">$</span>
 -->                                <input type="text" class="form-control input-sm" data-type="text" placeholder="ttNo" ng-model="receipt.ttNo">
                            <!-- </div> -->
                        </div>
                    </div>
                    <div class="line line-dashed line-lg pull-in"></div>
                    <div class="form-group pull-in clearfix">
                        <div class="col-sm-6">
                            <label>Regular Bank Charges</label>
                            <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="text" class="form-control input-sm" data-type="text" placeholder="Regular Bank Charges" ng-model="receipt.regularBankCharges">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label>Other Bank Charges</label>
                            <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="text" class="form-control input-sm" data-type="text" placeholder="Other Bank Charges" ng-model="receipt.otherBankCharges">
                            </div>
                        </div>
                    </div>
                    <footer class="panel-footer pos-rlt pull-in">
                        <span class="arrow top"></span>
                        <label>Description</label>
                         <div class="pull-out">
                            <textarea class="form-control no-border input-lg text-sm" type="text" placeholder="Write a Description" rows="6" ng-model="receipt.remarks"></textarea>
                        </div> 
                    </footer>
                   <!--  <footer class="panel-footer pos-rlt pull-in">
                        <span class="arrow top"></span>
                        <label>Description</label>
                        
                         <div class="pull-out">
                            <textarea class="form-control no-border input-lg text-sm" type="text" placeholder="Write a Description" rows="6" ng-model="quotation.remarks"></textarea>
                        </div> 
                    </footer> -->
                </div>
            </portlet-item>
        </portlet>
    </div>
    <div class="col-sm-12">
        <portlet>
            <portlet-item title="Invoices">
                <div>
                    <table class="table table-striped m-b-none text-sm" ng-show="receipt.receiptId">
                      <thead>
                        <tr>
                          <th>Invoice Number</th>
                          <th>Reference Number</th>
                          <th>Total Amount</th> 
                          <th>Total Amount Received</th> 
                          <th>Total Balance</th> 
                          <th>Invoice Date</th>                        
                        </tr>
                      </thead>
                      <tbody>
                        <tr >                    
                            <td>
                                {{receipt.invoice.invoiceNumber}}
                            </td>
                            <td>
                                {{receipt.invoice.referenceNumber}}
                            </td>
                            <td>
                                {{receipt.invoice.totalAmount}}
                            </td>
                            <td>
                                {{receipt.invoice.totalAmountReceived}}
                            </td>
                            <td>
                                {{receipt.invoice.totalBalance}}
                            </td>
                           
                            <td>
                                {{receipt.invoice.invoiceDate | date}}
                            </td>
                            
                        </tr>
                      </tbody>
                    </table>
                    <table class="table table-striped m-b-none text-sm" ng-show="invoiceList && !receipt.receiptId">
                      <thead>
                        <tr>
                          <th>Invoice Number</th>
                          <th>Reference Number</th>
                          <th>Total Amount</th> 
                          <th>Invoice Date</th>                        
                          <th width="70">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="item in invoiceList">                    
                            <td>
                                {{item.invoiceNumber}}
                            </td>
                            <td>
                                {{item.referenceNumber}}
                            </td>
                            <td>
                                {{item.totalAmount | currency}}
                            </td>
                           
                            <td>
                                {{item.invoiceDate | date}}
                            </td>
                            <td>
                                <button class="btn btn-success btn-sm" ng-click="selectInvoice(item.invoiceId)">Select</button>
                            </td>
                        </tr>
                      </tbody>
                    </table>
                </div>
            </portlet-item>
        </portlet>
    </div>
</div>
